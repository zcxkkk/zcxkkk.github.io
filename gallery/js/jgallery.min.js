/*!
 * jGallery v1.2.0
 * http://jgallery.jakubkowalczyk.pl/
 *
 * Released under the MIT license
 *
 * Date: 2014-04-28
 */
(function(g){var n={mode:"full-screen",width:"100%",height:"600px",autostart:false,autostartAtImage:1,autostartAtAlbum:1,canClose:true,canResize:true,draggableZoom:true,canChangeMode:false,backgroundColor:"#000",textColor:"#fff",thumbnails:true,thumbnailsFullScreen:true,thumbType:"image",thumbnailsPosition:"bottom",reloadThumbnails:true,thumbWidth:100,thumbHeight:100,thumbWidthOnFullScreen:100,thumbHeightOnFullScreen:100,canMinimalizeThumbnails:true,transition:"moveToRight_moveFromLeft",transitionWaveDirection:"forward",transitionCols:1,transitionRows:5,showTimingFunction:"linear",hideTimingFunction:"linear",transitionDuration:"0.7s",zoomSize:"fit",title:true,slideshow:true,slideshowAutostart:false,slideshowCanRandom:true,slideshowRandom:false,slideshowRandomAutostart:false,slideshowInterval:"8s",preloadAll:false,appendTo:"body",disabledOnIE8AndOlder:true,initGallery:function(){},showPhoto:function(){},beforeLoadPhoto:function(){},afterLoadPhoto:function(){},showGallery:function(){},closeGallery:function(){}};var k={thumbWidth:75,thumbHeight:75,autostart:true,canClose:false,canChangeMode:true};var f={};var z={width:"940px",height:"300px",canResize:false,draggableZoom:false,thumbnailsFullScreen:false,thumbType:"square",canMinimalizeThumbnails:false,transition:"rotateCubeRightOut_rotateCubeRightIn",transitionCols:6,transitionRows:1,slideshow:true,slideshowAutostart:true,zoomSize:"fill"};var a={autostart:true,canClose:false,zoomSize:"fill",canChangeMode:false};var v={moveToLeft_moveFromRight:["pt-page-moveToLeft","pt-page-moveFromRight"],moveToRight_moveFromLeft:["pt-page-moveToRight","pt-page-moveFromLeft"],moveToTop_moveFromBottom:["pt-page-moveToTop","pt-page-moveFromBottom"],moveToBottom_moveFromTop:["pt-page-moveToBottom","pt-page-moveFromTop"],fade_moveFromRight:["pt-page-fade","pt-page-moveFromRight pt-page-ontop"],fade_moveFromLeft:["pt-page-fade","pt-page-moveFromLeft pt-page-ontop"],fade_moveFromBottom:["pt-page-fade","pt-page-moveFromBottom pt-page-ontop"],fade_moveFromTop:["pt-page-fade","pt-page-moveFromTop pt-page-ontop"],moveToLeftFade_moveFromRightFade:["pt-page-moveToLeftFade","pt-page-moveFromRightFade"],moveToRightFade_moveFromLeftFade:["pt-page-moveToRightFade","pt-page-moveFromLeftFade"],moveToTopFade_moveFromBottomFade:["pt-page-moveToTopFade","pt-page-moveFromBottomFade"],moveToBottomFade_moveFromTopFade:["pt-page-moveToBottomFade","pt-page-moveFromTopFade"],moveToLeftEasing_moveFromRight:["pt-page-moveToLeftEasing pt-page-ontop","pt-page-moveFromRight"],moveToRightEasing_moveFromLeft:["pt-page-moveToRightEasing pt-page-ontop","pt-page-moveFromLeft"],moveToTopEasing_moveFromBottom:["pt-page-moveToTopEasing pt-page-ontop","pt-page-moveFromBottom"],moveToBottomEasing_moveFromTop:["pt-page-moveToBottomEasing pt-page-ontop","pt-page-moveFromTop"],scaleDown_moveFromRight:["pt-page-scaleDown","pt-page-moveFromRight pt-page-ontop"],scaleDown_moveFromLeft:["pt-page-scaleDown","pt-page-moveFromLeft pt-page-ontop"],scaleDown_moveFromBottom:["pt-page-scaleDown","pt-page-moveFromBottom pt-page-ontop"],scaleDown_moveFromTop:["pt-page-scaleDown","pt-page-moveFromTop pt-page-ontop"],scaleDown_scaleUpDown:["pt-page-scaleDown","pt-page-scaleUpDown pt-page-delay300"],scaleDownUp_scaleUp:["pt-page-scaleDownUp","pt-page-scaleUp pt-page-delay300"],moveToLeft_scaleUp:["pt-page-moveToLeft pt-page-ontop","pt-page-scaleUp"],moveToRight_scaleUp:["pt-page-moveToRight pt-page-ontop","pt-page-scaleUp"],moveToTop_scaleUp:["pt-page-moveToTop pt-page-ontop","pt-page-scaleUp"],moveToBottom_scaleUp:["pt-page-moveToBottom pt-page-ontop","pt-page-scaleUp"],scaleDownCenter_scaleUpCenter:["pt-page-scaleDownCenter","pt-page-scaleUpCenter pt-page-delay400"],rotateRightSideFirst_moveFromRight:["pt-page-rotateRightSideFirst","pt-page-moveFromRight pt-page-delay200 pt-page-ontop"],rotateLeftSideFirst_moveFromLeft:["pt-page-rotateLeftSideFirst","pt-page-moveFromLeft pt-page-delay200 pt-page-ontop"],rotateTopSideFirst_moveFromTop:["pt-page-rotateTopSideFirst","pt-page-moveFromTop pt-page-delay200 pt-page-ontop"],rotateBottomSideFirst_moveFromBottom:["pt-page-rotateBottomSideFirst","pt-page-moveFromBottom pt-page-delay200 pt-page-ontop"],flipOutRight_flipInLeft:["pt-page-flipOutRight","pt-page-flipInLeft pt-page-delay500"],flipOutLeft_flipInRight:["pt-page-flipOutLeft","pt-page-flipInRight pt-page-delay500"],flipOutTop_flipInBottom:["pt-page-flipOutTop","pt-page-flipInBottom pt-page-delay500"],flipOutBottom_flipInTop:["pt-page-flipOutBottom","pt-page-flipInTop pt-page-delay500"],rotateFall_scaleUp:["pt-page-rotateFall pt-page-ontop","pt-page-scaleUp"],rotateOutNewspaper_rotateInNewspaper:["pt-page-rotateOutNewspaper","pt-page-rotateInNewspaper pt-page-delay500"],rotatePushLeft_moveFromRight:["pt-page-rotatePushLeft","pt-page-moveFromRight"],rotatePushRight_moveFromLeft:["pt-page-rotatePushRight","pt-page-moveFromLeft"],rotatePushTop_moveFromBottom:["pt-page-rotatePushTop","pt-page-moveFromBottom"],rotatePushBottom_moveFromTop:["pt-page-rotatePushBottom","pt-page-moveFromTop"],rotatePushLeft_rotatePullRight:["pt-page-rotatePushLeft","pt-page-rotatePullRight pt-page-delay180"],rotatePushRight_rotatePullLeft:["pt-page-rotatePushRight","pt-page-rotatePullLeft pt-page-delay180"],rotatePushTop_rotatePullBottom:["pt-page-rotatePushTop","pt-page-rotatePullBottom pt-page-delay180"],rotatePushBottom_page:["pt-page-rotatePushBottom","pt-page-rotatePullTop pt-page-delay180"],rotateFoldLeft_moveFromRightFade:["pt-page-rotateFoldLeft","pt-page-moveFromRightFade"],rotateFoldRight_moveFromLeftFade:["pt-page-rotateFoldRight","pt-page-moveFromLeftFade"],rotateFoldTop_moveFromBottomFade:["pt-page-rotateFoldTop","pt-page-moveFromBottomFade"],rotateFoldBottom_moveFromTopFade:["pt-page-rotateFoldBottom","pt-page-moveFromTopFade"],moveToRightFade_rotateUnfoldLeft:["pt-page-moveToRightFade","pt-page-rotateUnfoldLeft"],moveToLeftFade_rotateUnfoldRight:["pt-page-moveToLeftFade","pt-page-rotateUnfoldRight"],moveToBottomFade_rotateUnfoldTop:["pt-page-moveToBottomFade","pt-page-rotateUnfoldTop"],moveToTopFade_rotateUnfoldBottom:["pt-page-moveToTopFade","pt-page-rotateUnfoldBottom"],rotateRoomLeftOut_rotateRoomLeftIn:["pt-page-rotateRoomLeftOut pt-page-ontop","pt-page-rotateRoomLeftIn"],rotateRoomRightOut_rotateRoomRightIn:["pt-page-rotateRoomRightOut pt-page-ontop","pt-page-rotateRoomRightIn"],rotateRoomTopOut_rotateRoomTopIn:["pt-page-rotateRoomTopOut pt-page-ontop","pt-page-rotateRoomTopIn"],rotateRoomBottomOut_rotateRoomBottomIn:["pt-page-rotateRoomBottomOut pt-page-ontop","pt-page-rotateRoomBottomIn"],rotateCubeLeftOut_rotateCubeLeftIn:["pt-page-rotateCubeLeftOut pt-page-ontop","pt-page-rotateCubeLeftIn"],rotateCubeRightOut_rotateCubeRightIn:["pt-page-rotateCubeRightOut pt-page-ontop","pt-page-rotateCubeRightIn"],rotateCubeTopOut_rotateCubeTopIn:["pt-page-rotateCubeTopOut pt-page-ontop","pt-page-rotateCubeTopIn"],rotateCubeBottomOut_rotateCubeBottomIn:["pt-page-rotateCubeBottomOut pt-page-ontop","pt-page-rotateCubeBottomIn"],rotateCarouselLeftOut_rotateCarouselLeftIn:["pt-page-rotateCarouselLeftOut pt-page-ontop","pt-page-rotateCarouselLeftIn"],rotateCarouselRightOut_rotateCarouselRightIn:["pt-page-rotateCarouselRightOut pt-page-ontop","pt-page-rotateCarouselRightIn"],rotateCarouselTopOut_rotateCarouselTopIn:["pt-page-rotateCarouselTopOut pt-page-ontop","pt-page-rotateCarouselTopIn"],rotateCarouselBottomOut_rotateCarouselBottomIn:["pt-page-rotateCarouselBottomOut pt-page-ontop","pt-page-rotateCarouselBottomIn"],rotateSidesOut_rotateSidesInDelay:["pt-page-rotateSidesOut","pt-page-rotateSidesIn pt-page-delay200"],rotateSlideOut_rotateSlideIn:["pt-page-rotateSlideOut","pt-page-rotateSlideIn"]};var b=[];var x=[""];var w=[];g.each(v,function(A,B){w.push(B)});var o;var s;g(function(){o=g("head");s=g("body")});var r=g(window);var c=0;var i=function(B,A){this.intJgalleryId=A;this.$element=B};i.prototype={clear:function(){this.$element.stop(false,true).css({width:0});return this},start:function(A,B){this.$element.animate({width:A},parseInt(b[this.intJgalleryId].slideshowInterval)*1000,"linear",B);return this},pause:function(){this.$element.stop(true);this.clear();return this}};var p=function(B,A){this.$element=B;this.jGallery=A;this.$title=this.$element.find(".title")};p.prototype={bindEvents:function(B){var A=this;this.getElement().on({click:function(C){A.menuToggle();C.stopPropagation()}});this.getItemsOfMenu().on({click:function(){var C=g(this);if(C.is(".active")){return}B.thumbnails.setActiveAlbum(B.thumbnails.$albums.filter('[data-jgallery-album-title="'+C.attr("data-jgallery-album-title")+'"]'))}});g("html").on("click",function(){A.menuHide()})},setTitle:function(A){this.$title.html(A)},getTitle:function(){return this.$title.html()},getListOfAlbums:function(){return this.getElement().find(".menu")},getElement:function(){return this.$element},getItemsOfMenu:function(){return this.getListOfAlbums().find(".item")},appendToMenu:function(A){this.getListOfAlbums().append(A)},menuToggle:function(){this.getElement().toggleClass("active")},menuHide:function(){this.getElement().removeClass("active")},clearMenu:function(){this.getListOfAlbums().html("")},refreshMenuHeight:function(){this.getListOfAlbums().css("max-height",this.jGallery.zoom.$container.outerHeight()-8)}};var e=function(B,A){this.options=g.extend({},{thumbsHidden:true},A);this.jGallery=B;this.$element=B.$this;this.booIsAlbums=B.booIsAlbums;this.$tmp;this.intI=1;this.intJ=1;this.intNo;this.$thumbnailsContainerInner=this.jGallery.$jgallery.find(".jgallery-thumbnails .jgallery-container-inner");this.start()};e.prototype={start:function(){var B=this;var A=this.jGallery.isSlider()?".album:has(img)":".album:has(a:has(img))";g("body").append('<div id="jGalleryTmp" style="position: absolute; top: 0; left: 0; width: 0; height: 0; z-index: -1; overflow: hidden;">'+this.$element.html()+"</div>");this.$tmp=g("#jGalleryTmp");this.$thumbnailsContainerInner.html("");if(this.booIsAlbums){this.$tmp.find(A).each(function(){B.insertAlbum(g(this))})}else{this.insertImages(this.$tmp,this.$thumbnailsContainerInner)}this.$tmp.remove()},insertAlbum:function(B){var A=B.is("[data-jgallery-album-title]")?B.attr("data-jgallery-album-title"):"Album "+this.intJ;var C=this.$thumbnailsContainerInner.append('<div class="album" data-jgallery-album-title="'+A+'"></div>').children(":last-child");if(this.intJ===1){C.addClass("active")}this.insertImages(B,C);this.intJ++},insertImages:function(C,D){var B=this;var A=this.jGallery.isSlider()?"img":"a:has(img)";this.intNo=1;C.find(A).each(function(){B.insertImage(g(this),D)})},insertImage:function(A,B){if(A.is("a")){B.append('<a href="'+A.attr("href")+'">'+this.generateImgTag(A.find("img").eq(0)).outerHtml()+"</a>");if(this.options.thumbsHidden){B.children(":last-child").addClass("hidden")}}else{if(A.is("img")){B.append(g('<a href="'+A.attr("src")+'">'+this.generateImgTag(A).outerHtml()+"</a>"))}}B.children(":last-child").attr("data-jgallery-photo-id",this.intI++).attr("data-jgallery-number",this.intNo++)},generateImgTag:function(A){var B=g('<img src="'+A.attr("src")+'" />');if(A.is("[alt]")){B.attr("alt",A.attr("alt"))}if(A.is("[data-jgallery-bg-color]")){B.attr("data-jgallery-bg-color",A.attr("data-jgallery-bg-color"))}if(A.is("[data-jgallery-text-color]")){B.attr("data-jgallery-text-color",A.attr("data-jgallery-text-color"))}return B}};var m=function(A){this.$element=A.$element.find(".jgallery-thumbnails");this.$a=this.getElement().find("a");this.$img=this.getElement().find("img");this.$container=this.getElement().find(".jgallery-container");this.$albums=this.getElement().find(".album").length?this.getElement().find(".album"):this.getElement().find(".jgallery-container-inner").addClass("active");this.$btnNext=this.getElement().children(".next");this.$btnPrev=this.getElement().children(".prev");this.intJgalleryId=A.$element.attr("data-jgallery-id");this.isJgalleryInitialized=A.$element.is("[data-jgallery-id]");this.zoom=A.zoom;this.jGallery=A};m.prototype={getElement:function(){return this.$element},init:function(){this.getElement().removeClass("square number images jgallery-thumbnails-left jgallery-thumbnails-right jgallery-thumbnails-top jgallery-thumbnails-bottom jgallery-thumbnails-horizontal jgallery-thumbnails-vertical");this.getElement().addClass("jgallery-thumbnails-"+b[this.intJgalleryId].thumbnailsPosition);if(this.isVertical()){this.getElement().addClass("jgallery-thumbnails-vertical")}if(this.isHorizontal()){this.getElement().addClass("jgallery-thumbnails-horizontal")}if(b[this.intJgalleryId].thumbType==="image"){this._initImages()}if(b[this.intJgalleryId].thumbType==="square"){this._initSquare()}if(b[this.intJgalleryId].thumbType==="number"){this._initNumber()}},show:function(){var A=this;if(!this.getElement().is(".hidden")){return}this.getElement().removeClass("hidden");if(!this.getElement().is(".loaded")){this.getElement().jLoader({start:function(){},success:function(){A._showNextThumb();A.$a.parent(".album:not(.active)").children(".hidden").removeClass("hidden");A.getElement().addClass("loaded");A.refreshThumbsSize(A)}})}else{this._showNextThumb();this.$a.parent(".album:not(.active)").children(".hidden").removeClass("hidden")}},showThumbsForActiveAlbum:function(){this.$a.addClass("hidden");this._showNextThumb()},hide:function(A){A=g.extend({hideEachThumb:true},A);this.getElement().addClass("hidden");if(A.hideEachThumb){this.$a.addClass("hidden")}},toggle:function(){this.getElement().is(".hidden")?this.show():this.hide({hideEachThumb:false})},refreshThumbsSize:function(A){A=A?A:this;A.$img.each(function(){var B=g(this);j(B)?B.css({"max-height":"100%","max-width":"none"}):B.css({"max-width":"100%","max-height":"none"})})},setActiveThumb:function(B){var A=B.find("img");var C=this.$albums.filter(".active");var B=C.find('img[src="'+A.attr("src")+'"]').parent("a").eq(0);this.getElement().find("a").removeClass("active");B.addClass("active");if(C.find("a.active").length===0){C.find("a:first-child").eq(0).addClass("active")}this.center(B)},isHorizontal:function(){return b[this.intJgalleryId].thumbnailsPosition==="top"||b[this.intJgalleryId].thumbnailsPosition==="bottom"},isVertical:function(){return b[this.intJgalleryId].thumbnailsPosition==="left"||b[this.intJgalleryId].thumbnailsPosition==="right"},isFullScreen:function(){return this.getElement().is(".full-screen")},refreshNavigation:function(){if(this.isVertical()||this.isFullScreen()){this._refreshVerticalNavigation()}else{if(this.isHorizontal()){this._refreshHorizontalNavigation()}}},center:function(A){if(this.isHorizontal()){this._horizontalCenter(A)}if(this.isVertical()){this._verticalCenter(A)}},reload:function(){this.$a=this.getElement().find("a");this.$img=this.getElement().find("img");this.$albums=this.getElement().find(".album").length?this.getElement().find(".album"):this.getElement().find(".jgallery-container-inner").addClass("active")},bindEvents:function(){var A=this;this.$btnNext.on("click",function(){A._scrollToNext()});this.$btnPrev.on("click",function(){A._scrollToPrev()});this.zoom.$container.find(".full-screen").on({click:function(){A.zoom.slideshowStop();A.changeViewToFullScreen()}});this.getElement().find(".jgallery-close").on({click:function(){A.changeViewToBar();A.zoom.refreshSize()}})},changeViewToBar:function(){this.getElement().removeClass("full-screen");if(this.isHorizontal()){this.getElement().addClass("jgallery-thumbnails-horizontal").removeClass("jgallery-thumbnails-vertical")}this.refreshNavigation()},changeViewToFullScreen:function(){this.getElement().addClass("full-screen");if(this.isHorizontal()){this.getElement().addClass("jgallery-thumbnails-vertical").removeClass("jgallery-thumbnails-horizontal")}this._refreshVerticalNavigation()},setActiveAlbum:function(A){if(!this.jGallery.booIsAlbums||A.is(".active")){return}this.$albums.not(A.get(0)).removeClass("active");A.addClass("active");this.jGallery.iconChangeAlbum.getListOfAlbums().find(".item").removeClass("active").filter('[data-jgallery-album-title="'+A.attr("data-jgallery-album-title")+'"]').addClass("active");this.jGallery.iconChangeAlbum.setTitle(A.attr("data-jgallery-album-title"));this.refreshNavigation();if(!this.getElement().is(".full-screen")&&this.jGallery.$element.is(":visible")){this.zoom.showPhoto(A.find("a").eq(0))}this.refreshThumbsSize(this);this.showThumbsForActiveAlbum()},_initSquare:function(){this.getElement().addClass("square")},_initNumber:function(){this.getElement().addClass("number");this._initSquare()},_initImages:function(){var A=o.find('style.jgallery-thumbnails[data-jgallery-id="'+this.intJgalleryId+'"]');var B='                    .jgallery[data-jgallery-id="'+this.intJgalleryId+'"] .jgallery-thumbnails a {\n                        width: '+b[this.intJgalleryId].thumbWidth+"px;\n                        height: "+b[this.intJgalleryId].thumbHeight+"px;\n                        font-size: "+b[this.intJgalleryId].thumbHeight+'px;\n                    }\n                    .jgallery[data-jgallery-id="'+this.intJgalleryId+'"] .jgallery-thumbnails.full-screen a {\n                        width: '+b[this.intJgalleryId].thumbWidthOnFullScreen+"px;\n                        height: "+b[this.intJgalleryId].thumbHeightOnFullScreen+"px;\n                        font-size: "+b[this.intJgalleryId].thumbHeightOnFullScreen+'px;\n                    }\n                    .jgallery[data-jgallery-id="'+this.intJgalleryId+'"] .jgallery-thumbnails-horizontal {\n                        height: '+parseInt(b[this.intJgalleryId].thumbHeight+2)+'px;\n                    }\n                    .jgallery[data-jgallery-id="'+this.intJgalleryId+'"] .jgallery-thumbnails-vertical {\n                        width: '+parseInt(b[this.intJgalleryId].thumbWidth+2)+"px;\n                    }\n            ";this.getElement().addClass("images");A.length?A.html(B):o.append('                <style type="text/css" class="jgallery-thumbnails" data-jgallery-id="'+this.intJgalleryId+'">                    '+B+"                </style>            ");if(this.isHorizontal()){this.jGallery.zoom.$container.find(".minimalize-thumbnails").addClass("icon-ellipsis-horizontal").removeClass("icon-ellipsis-vertical")}else{this.jGallery.zoom.$container.find(".minimalize-thumbnails").addClass("icon-ellipsis-vertical").removeClass("icon-ellipsis-horizontal")}if(this.isJgalleryInitialized){return}this.hide()},_showNextThumb:function(){var A=this;var B=this.$a.parent(".active").children(".hidden").eq(0);setTimeout(function(){B.removeClass("hidden");if(B.length){A._showNextThumb()}else{A.refreshThumbsSize(A)}},70)},_horizontalCenter:function(B){var A=this;if(B.length!==1){return}this.$container.stop(false,true).animate({scrollLeft:B.position().left-this.$container.scrollLeft()*-1-B.outerWidth()/-2-this.$container.outerWidth()/2},function(){A.refreshNavigation()})},_verticalCenter:function(B){var A=this;if(B.length!==1){return}this.$container.stop(false,true).animate({scrollTop:B.position().top-this.$container.scrollTop()*-1-B.outerHeight()/-2-this.$container.outerHeight()/2},function(){A.refreshNavigation()})},_refreshHorizontalNavigation:function(){var B=this.getElement().find("div.active");var A=b[this.intJgalleryId].thumbType==="image"?this.$a.outerWidth(true)*B.find("img").length:this.$a.outerWidth(true)*B.find("a").length;this.$container.scrollLeft()>0?this.$btnPrev.addClass("visible"):this.$btnPrev.removeClass("visible");A>this.$container.width()+this.$container.scrollLeft()?this.$btnNext.addClass("visible"):this.$btnNext.removeClass("visible")},_refreshVerticalNavigation:function(){this.$container.scrollTop()>0?this.$btnPrev.addClass("visible"):this.$btnPrev.removeClass("visible");this.$container.find(".jgallery-container-inner").height()>this.$container.height()+this.$container.scrollTop()?this.$btnNext.addClass("visible"):this.$btnNext.removeClass("visible")},_scrollToPrev:function(){var A=this;if(this.isVertical()||this.isFullScreen()){this.$container.stop(false,true).animate({scrollTop:"-="+r.height()*0.7},function(){A.refreshNavigation()})}else{if(this.isHorizontal()){this.$container.stop(false,true).animate({scrollLeft:"-="+r.width()*0.7},function(){A.refreshNavigation()})}}},_scrollToNext:function(){var A=this;if(this.isVertical()||this.isFullScreen()){this.$container.stop(false,true).animate({scrollTop:"+="+r.height()*0.7},function(){A.refreshNavigation()})}else{if(this.isHorizontal()){this.$container.stop(false,true).animate({scrollLeft:"+="+r.width()*0.7},function(){A.refreshNavigation()})}}}};var h=function(A){this.$container=A.$element.children(".zoom-container");this.$element=this.$container.children(".zoom");this.$title=this.$container.children(".title");this.$btnPrev=this.$container.children(".prev");this.$btnNext=this.$container.children(".next");this.$left=this.$container.find(".left");this.$right=this.$container.find(".right");this.thumbnails=A.thumbnails;this.$jGallery=A.$element;this.jGallery=A;this.$resize=this.$container.find(".resize");this.$dragNav=this.$container.find(".drag-nav");this.$dragNavCrop=g();this.$dragNavCropImg=g();this.$changeMode=this.$container.find('[class*="icon-"].change-mode');this.$random=this.$container.find(".random");this.$slideshow=this.$container.find(".slideshow");this.intJGalleryId=this.$jGallery.attr("data-jgallery-id");this.booSlideshowPlayed=false;this.booLoadingInProgress=false;this.booLoadedAll=false;this.update()};h.prototype={update:function(){var A=v[b[this.jGallery.intId].transition];this.$container.attr("data-size",b[this.jGallery.intId].zoomSize);this.$element.find(".pt-page").removeClass(b[this.jGallery.intId].hideEffect).removeClass(b[this.jGallery.intId].showEffect);if(typeof A!=="undefined"){b[this.jGallery.intId].hideEffect=v[b[this.jGallery.intId].transition][0];b[this.jGallery.intId].showEffect=v[b[this.jGallery.intId].transition][1]}this.initAdvancedAnimation()},initAdvancedAnimation:function(){if(typeof this.advancedAnimation==="undefined"){this.advancedAnimation=new d(this.$element)}this.advancedAnimation.setDuration(b[this.jGallery.intId].transitionDuration);this.advancedAnimation.setDirection(b[this.jGallery.intId].transitionWaveDirection);this.advancedAnimation.setQuantityParts(b[this.jGallery.intId].transitionCols,b[this.jGallery.intId].transitionRows);this.advancedAnimation.setHideEffect(b[this.jGallery.intId].hideEffect);this.advancedAnimation.setShowEffect(b[this.jGallery.intId].showEffect)},setThumbnails:function(A){this.thumbnails=A},enableDrag:function(){if(!b[this.jGallery.intId].draggableZoom){return}var D=this;var F;var A;var C=function(J){var H=J.pageX;var G=J.pageY;var I=D.$element.find("img.active");F=I.css("margin-left");A=I.css("margin-top");D.$element.on({mousemove:function(K){E(K.pageX-H,K.pageY-G)},mouseleave:function(){B()}});if(b[D.jGallery.intId].zoomSize==="fill"){D.$dragNav.removeClass("hide").addClass("show")}E(0,0)};var B=function(){D.$element.off("mousemove");if(b[D.jGallery.intId].zoomSize==="fill"){D.$dragNav.removeClass("show").addClass("hide")}};var E=function(H,N){var M=parseFloat(parseFloat(F)+H);var L=parseFloat(parseFloat(A)+N);var J=D.$element.find("img.active");var K=J.eq(0);var I=J.eq(-1);var G=I.parent();if(K.position().left+M<0&&I.position().left+I.width()+M>G.outerWidth()){J.css({"margin-left":M});D.$dragNavCrop.css({left:-(K.position().left+M)/J.width()*100+"%"})}if(K.position().top+L<0&&I.position().top+I.height()+L>G.outerHeight()){J.css({"margin-top":L});D.$dragNavCrop.css({top:-(K.position().top+L)/J.height()*100+"%"})}D.$dragNavCropImg.css({"margin-left":-D.$dragNavCrop.position().left,"margin-top":-D.$dragNavCrop.position().top})};if(b[D.jGallery.intId].zoomSize==="original"){D.$dragNav.removeClass("hide").addClass("show")}this.refreshDragNavCropSize();this.$element.css("cursor","move").on({mousedown:function(G){G.preventDefault();C(G)},mouseup:function(){B()}});this.$left.add(this.$right).hide()},disableDrag:function(){if(!b[this.jGallery.intId].draggableZoom){return}this.$dragNav.removeClass("show").addClass("hide");this.$element.css("cursor","default");this.$element.off();this.$left.add(this.$right).show()},refreshContainerSize:function(){var B=this.jGallery.isSlider()?0:this.$container.find(".nav-bottom").outerHeight();var A=!this.jGallery.isSlider()&&!this.thumbnails.getElement().is(".hidden");var C=A?b[this.intJGalleryId].thumbnailsPosition:"";this.$container.css({width:A&&this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):"auto",height:A&&this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-B:this.$jGallery.height()-B,"margin-top":C==="top"?this.thumbnails.getElement().outerHeight(true):0,"margin-left":C==="left"?this.thumbnails.getElement().outerWidth(true):0,"margin-right":C==="right"?this.thumbnails.getElement().outerWidth(true):0});if(b[this.jGallery.intId].draggableZoom){this.refreshDragNavCropSize()}},refreshSize:function(){if(this.thumbnails.isFullScreen()){return}this.refreshContainerSize();if(b[this.intJGalleryId].zoomSize==="original"){this.original()}else{if(b[this.intJGalleryId].zoomSize==="fill"){this.fill()}else{this.fit()}}this.$element.addClass("visible")},refreshDragNavCropSize:function(){var B=this.$element.find("img.active");var A;var C;this.$dragNavCrop.css({width:this.$element.width()/B.width()*100+"%",height:this.$element.height()/B.height()*100+"%"});A=(this.$dragNav.width()-this.$dragNavCrop.width())/2;C=(this.$dragNav.height()-this.$dragNavCrop.height())/2;this.$dragNavCrop.css({left:A,top:C});if(this.$dragNavCropImg.length){this.$dragNavCropImg.css({"margin-left":-A,"margin-top":-C})}},changeSize:function(){if(b[this.jGallery.intId].zoomSize==="fit"){b[this.jGallery.intId].zoomSize="fill";this.fill()}else{if(b[this.jGallery.intId].zoomSize==="fill"){var A=this.$element.find("img.active").eq(0);if(this.$element.outerWidth().toString()===A.attr("data-width")){b[this.jGallery.intId].zoomSize="fit";this.fit()}else{b[this.jGallery.intId].zoomSize="original";this.original()}}else{if(b[this.jGallery.intId].zoomSize==="original"){b[this.jGallery.intId].zoomSize="fit";this.fit()}}}this.$container.attr("data-size",b[this.jGallery.intId].zoomSize)},original:function(){var A=this.$element.find("img.active");this.advancedAnimation.setPositionParts();this.setImgSizeForOriginal(A);this.setImgSizeForOriginal(this.$element.find(".pt-page.init img"));if(A.attr("data-width")<=this.$element.outerWidth()&&A.attr("data-height")<=this.$element.outerHeight()){this.$resize.addClass("icon-zoom-in").removeClass("icon-zoom-out");this.disableDrag()}else{this.$resize.addClass("icon-zoom-out").removeClass("icon-zoom-in");this.enableDrag()}},fit:function(){var A=this.$element.find("img.active").add(this.$element.find(".pt-page.init img"));this.advancedAnimation.setPositionParts();this.setImgSizeForFit(A.filter(".active"));this.setImgSizeForFit(A.filter(":not( .active )"));this.$resize.addClass("icon-zoom-in").removeClass("icon-zoom-out");this.disableDrag()},fill:function(){var A=this.$element.find("img.active");this.setImgSizeForFill(A);this.setImgSizeForFill(this.$element.find(".pt-page.init img"));this.advancedAnimation.setPositionParts();if(A.attr("data-width")>A.width()&&A.attr("data-height")>A.height()){this.$resize.addClass("icon-zoom-in").removeClass("icon-zoom-out")}else{this.$resize.addClass("icon-zoom-out").removeClass("icon-zoom-in")}this.enableDrag()},setImgSizeForOriginal:function(A){A.css({width:A.attr("data-width"),height:A.attr("data-height"),"min-width":0,"min-height":0,"max-width":"none","max-height":"none"});A.css({"margin-top":-A.height()/2,"margin-left":-A.width()/2})},setImgSizeForFit:function(B){var C=this.jGallery.isSlider()?0:this.$container.find(".nav-bottom").outerHeight();var A=!this.jGallery.isSlider()&&!this.thumbnails.getElement().is(".hidden");B.css({width:"auto",height:"auto","min-width":0,"min-height":0,"max-width":A&&this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):this.$jGallery.width(),"max-height":A&&this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-C:this.$jGallery.height()-C});if(B.width()/B.height()/this.jGallery.getCanvasRatioWidthToHeight()<1){B.css({width:"auto",height:A&&this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-C:this.$jGallery.height()-C})}else{B.css({width:A&&this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):this.$jGallery.width(),height:"auto"})}B.css({"margin-top":-B.height()/2,"margin-left":-B.width()/2})},setImgSizeForFill:function(B){var C=this.jGallery.isSlider()?0:this.$container.find(".nav-bottom").outerHeight();var A=!this.jGallery.isSlider()&&!this.thumbnails.getElement().is(".hidden");B.css({width:"auto",height:"auto","max-width":"none","max-height":"none","min-width":0,"min-height":0});if(B.width()/B.height()/this.jGallery.getCanvasRatioWidthToHeight()>1){B.css({width:"auto",height:A&&this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-C:this.$jGallery.height()-C})}else{B.css({width:A&&this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):this.$jGallery.width(),height:"auto"})}B.css({"min-width":A&&this.thumbnails.isVertical()?this.$jGallery.width()-this.thumbnails.getElement().outerWidth(true):this.$jGallery.width(),"min-height":A&&this.thumbnails.isHorizontal()?this.$jGallery.height()-this.thumbnails.getElement().outerHeight(true)-C:this.$jGallery.height()-C});B.css({"margin-top":-B.height()/2,"margin-left":-B.width()/2})},isLoaded:function(A){return this.$element.find("img").filter('[src="'+A.attr("href")+'"]').length>0},refreshNav:function(){var A=this.thumbnails.getElement().find("div.active a.active");A.prev("a").length===1?this.$btnPrev.add(this.$container.children(".left")).removeClass("hidden"):this.$btnPrev.add(this.$container.children(".left")).addClass("hidden");A.next("a").length===1?this.$btnNext.add(this.$container.children(".right")).removeClass("hidden"):this.$btnNext.add(this.$container.children(".right")).addClass("hidden")},slideshowStop:function(){this.jGallery.progress.pause();this.$slideshow.removeClass("icon-stop").addClass("icon-play");this.booSlideshowPlayed=false},slideshowPlay:function(){if(this.booLoadingInProgress||this.booSlideshowPlayed){return}this.booSlideshowPlayed=true;this.$slideshow.removeClass("icon-play").addClass("icon-stop");this.slideshowSetTimeout()},slideshowPlayStop:function(){this.$slideshow.is(".icon-play")?this.slideshowPlay():this.slideshowStop()},slideshowSetTimeout:function(){var A=this;this.jGallery.progress.clear().start(this.$container.width(),function(){A.jGallery.progress.clear();b[A.jGallery.intId].slideshowRandom?A.showRandomPhoto():A.showNextPhotoLoop()})},slideshowRandomToggle:function(){if(b[this.jGallery.intId].slideshowRandom){this.$random.removeClass("active");b[this.jGallery.intId].slideshowRandom=false}else{this.$random.addClass("active");b[this.jGallery.intId].slideshowRandom=true}},showNextPhotoLoop:function(){var A=this.thumbnails.$a.filter(".active").next("a");if(A.length===0){A=this.thumbnails.$albums.filter(".active").find("a").eq(0)}this.showPhoto(A)},showRandomPhoto:function(){var A=this.thumbnails.$albums.filter(".active").find("a:not(.active)");this.showPhoto(A.eq(Math.floor(Math.random()*A.length)))},showPrevPhoto:function(){var A=this.thumbnails.$a.filter(".active").prev("a");if(A.length===1){this.showPhoto(A)}},showNextPhoto:function(){var A=this.thumbnails.$a.filter(".active").next("a");if(A.length===1){this.showPhoto(A)}},showPhotoInit:function(){this.jGallery.init()},showPhoto:function(C){var B=this;var D=C.children("img");var A;var E;if(!this.jGallery.initialized()){this.showPhotoInit()}if(this.booLoadingInProgress){return}this.booLoadingInProgress=true;this.$element.find(".pt-page.init").remove();b[this.jGallery.intId].showPhoto();if(this.jGallery.$element.is(":not(:visible)")){this.jGallery.show()}this.thumbnails.changeViewToBar();if(this.jGallery.booIsAlbums){if(this.jGallery.iconChangeAlbum.getTitle()===""){E=C.parents(".album").eq(0).attr("data-jgallery-album-title");this.jGallery.iconChangeAlbum.setTitle(E);this.jGallery.iconChangeAlbum.$element.find('[data-jgallery-album-title="'+E+'"]').addClass("active");C.parents(".album").addClass("active").siblings(".album").removeClass("active")}}this.thumbnails.setActiveAlbum(this.thumbnails.$albums.filter('[data-jgallery-album-title="'+C.parents("[data-jgallery-album-title]").attr("data-jgallery-album-title")+'"]'));this.thumbnails.setActiveThumb(C);if(this.$element.find("img.active").attr("src")===C.attr("href")){this.booLoadingInProgress=false;return}this.refreshNav();clearTimeout(this.jGallery.loaderTimeout);if(b[this.jGallery.intId].transition==="random"){this.setRandomTransition()}if(b[this.jGallery.intId].title){this.$title.addClass("after fade")}A=B.isLoaded(C);if(!A){if(b[B.jGallery.intId].preloadAll&&!B.booLoadedAll){this.appendAllPhotos()}else{this.appendPhoto(C)}}this.$element.find("img.active").addClass("prev-img");B.$container.find("img.active").removeClass("active");B.$container.find('[src="'+C.attr("href")+'"]').addClass("active");if(b[B.jGallery.intId].title&&D.is("[alt]")){B.$title.removeClass("after").addClass("before")}if(!A||(b[B.jGallery.intId].preloadAll&&!B.booLoadedAll)){B.booLoadedAll=true;B.$container.overlay({show:true,showLoader:true});b[B.jGallery.intId].beforeLoadPhoto();B.loadPhoto(B.$element,C)}else{B.showPhotoSuccess(D)}},appendPhoto:function(A){if(this.$element.find(".jgallery-container").length===0){this.appendInitPhoto(this.thumbnails.$a.not('[href="'+A.attr("href")+'"]').eq(0))}this.$element.find(".pt-part").append('                <div class="jgallery-container pt-page">                    <div class="pt-item"><img src="'+A.attr("href")+'" /></div>                </div>')},appendAllPhotos:function(){var A=this;if(!b[this.jGallery.intId].preloadAll){return}this.thumbnails.$a.each(function(){var B=g(this);if(!A.isLoaded(B)){A.$element.find(".pt-part").append('<div class="jgallery-container pt-page"><div class="pt-item"><img src="'+B.attr("href")+'" /></div></div>')}});this.appendInitPhoto(this.thumbnails.$a.eq(-1))},appendInitPhoto:function(A){if(A.length!==1){return}this.$element.find(".pt-part").append('                <div class="jgallery-container pt-page pt-page-current pt-page-ontop init" style="visibility: hidden;">                    <div class="pt-item"><img src="'+A.attr("href")+'" class="active loaded" /></div>                </div>')},loadPhoto:function(B,E){var A=this;var F=E.children("img");var D=0;var C=b[this.jGallery.intId].preloadAll?B:B.find("img.active");C.jLoader({interval:500,skip:".loaded",start:function(){if(b[A.jGallery.intId].preloadAll){A.$container.find(".overlay .imageLoaderPositionAbsolute:not(:has(.progress-value))").addClass("preloadAll").append('<span class="progress-value"></span>');A.$container.find(".progress-value").html("0")}else{A.$container.find(".overlay .imageLoaderPositionAbsolute:not(:has(.icon-spin))").append('<span class="icon-spin icon-spinner"></span>')}},success:function(){B.find("img").addClass("loaded");A.$container.overlay({hide:true,hideLoader:true});clearInterval(A.jGallery.loaderTimeout);A.jGallery.loaderTimeout=setTimeout(function(){A.showPhotoSuccess(F)},500)},progress:function(G){if(!b[A.jGallery.intId].preloadAll){return}D=G.percent;A.$container.find(".overlay .imageLoaderPositionAbsolute").find(".progress-value").html(D)}})},showPhotoSuccess:function(C){var B;var A=this.$element.find("img.active");if(A.is(":not([data-width])")){B=new Image();B.src=A.attr("src");A.attr("data-width",B.width);A.attr("data-height",B.height)}if(b[this.jGallery.intId].title&&C.is("[alt]")){this.$title.html(C.attr("alt")).removeClass("before").removeClass("after")}this.jGallery.setColours({strBg:C.is("[data-jgallery-bg-color]")?C.attr("data-jgallery-bg-color"):b[this.jGallery.intId].backgroundColor,strText:C.is("[data-jgallery-bg-color]")?C.attr("data-jgallery-text-color"):b[this.jGallery.intId].textColor});this.$element.find(".pt-page.init").css({visibility:"visible"});this.$element.find("img.prev-img").removeClass("prev-img");this.advancedAnimation.show(A.eq(0).parent().parent());this.refreshSize();this.thumbnails.refreshNavigation();if(this.booSlideshowPlayed){this.slideshowSetTimeout()}b[this.jGallery.intId].afterLoadPhoto();this.booLoadingInProgress=false;if(b[this.jGallery.intId].autostart&&b[this.jGallery.intId].slideshowAutostart&&b[this.jGallery.intId].slideshow){b[this.jGallery.intId].slideshowAutostart=false;this.slideshowPlay()}if(b[this.jGallery.intId].draggableZoom){this.$dragNav.html('<img src="'+A.attr("src")+'" class="bg">                    <div class="crop"><img src="'+A.attr("src")+'"></div>');this.$dragNavCrop=this.$dragNav.find(".crop");this.$dragNavCropImg=this.$dragNavCrop.find("img");this.refreshDragNavCropSize()}},setTransition:function(A){b[this.jGallery.intId].hideEffect=v[A][0];b[this.jGallery.intId].showEffect=v[A][1];this.advancedAnimation.setHideEffect(b[this.jGallery.intId].hideEffect);this.advancedAnimation.setShowEffect(b[this.jGallery.intId].showEffect)},setRandomTransition:function(){var A;this.$element.find(".pt-page").removeClass(b[this.jGallery.intId].hideEffect).removeClass(b[this.jGallery.intId].showEffect);A=Math.floor((Math.random()*w.length));b[this.jGallery.intId].hideEffect=w[A][0];b[this.jGallery.intId].showEffect=w[A][1];this.advancedAnimation.setHideEffect(b[this.jGallery.intId].hideEffect);this.advancedAnimation.setShowEffect(b[this.jGallery.intId].showEffect)},changeMode:function(){var A=b[this.jGallery.intId].mode;if(A==="slider"){return}if(A==="standard"){this.goToFullScreenMode()}else{if(A==="full-screen"){this.goToStandardMode()}}if(this.jGallery.iconChangeAlbum instanceof p){this.jGallery.iconChangeAlbum.refreshMenuHeight()}},goToFullScreenMode:function(){s.css({overflow:"hidden"});this.jGallery.$this.show();this.jGallery.$element.removeClass("jgallery-standard").addClass("jgallery-full-screen").css({width:"auto",height:"auto"});this.$changeMode.removeClass("icon-resize-full").addClass("icon-resize-small");b[this.jGallery.intId].mode="full-screen";this.jGallery.refreshDimensions()},goToStandardMode:function(){s.css({overflow:"visible"});this.jGallery.$this.hide();this.jGallery.$element.removeClass("jgallery-full-screen").addClass("jgallery-standard").css({width:b[this.jGallery.intId].width,height:b[this.jGallery.intId].height});this.$changeMode.removeClass("icon-resize-small").addClass("icon-resize-full");b[this.jGallery.intId].mode="standard";this.jGallery.refreshDimensions()}};var q=function(B){var A=this;this.booIsAlbums=B.find(".album:has(a:has(img))").length>1;this.intId=c;this.$this=B;if(b[this.intId].disabledOnIE8AndOlder&&u()){return}this.init();if(b[this.intId].autostart){this.autostart()}g("html").on({keydown:function(C){if(A.$element.is(":visible")){if(C.which===27){C.preventDefault();if(A.thumbnails.getElement().is(".full-screen")){A.thumbnails.changeViewToBar();A.zoom.refreshSize();return}A.hide()}if(C.which===37){C.preventDefault();A.zoom.showPrevPhoto()}if(C.which===39){C.preventDefault();A.zoom.showNextPhoto()}}}})};q.prototype={initialized:function(){return this.$this.is("[data-jgallery-id]")},update:function(A){b[this.intId]=this.initialized()?g.extend(b[this.intId],A):g.extend({},n,A);if(b[this.intId].disabledOnIE8AndOlder&&y()){return}this.booIsAlbums=this.$this.find(".album:has(a:has(img))").length>1;if(b[this.intId].reloadThumbnails){this.reloadThumbnails()}this.zoom.update();this.thumbnails.init();this.setUserOptions()},reloadThumbnails:function(){new e(this,{thumbsHidden:false});this.thumbnails.reload();this.thumbnails.refreshThumbsSize();this.generateAlbumsDropdown()},setVariables:function(){this.$element=g(".jgallery").filter('[data-jgallery-id="'+this.intId+'"]');this.progress=new i(this.$element.find(".zoom-container").children(".progress"),this.intId);this.zoom=new h(this);this.thumbnails=new m(this);this.zoom.setThumbnails(this.thumbnails)},show:function(){this.$this.hide();r.on("resize",{jGallery:this},this.windowOnResize);if(b[this.intId].mode==="full-screen"){s.css({overflow:"hidden"})}this.$element.not(":visible").removeClass("hidden").stop(false,true).fadeIn(500);this.thumbnails.show();this.zoom.refreshContainerSize();this.zoom.$title.removeClass("hidden");b[this.intId].showGallery();if(this.iconChangeAlbum instanceof p){this.iconChangeAlbum.refreshMenuHeight()}},hide:function(){var A=this;if(!b[this.intId].canClose){return}this.$element.filter(":visible").stop(false,true).addClass("hidden").fadeOut(500,function(){if(b[A.intId].mode==="full-screen"){s.css({overflow:"visible"})}A.thumbnails.hide()});this.zoom.booLoadingInProgress=false;clearTimeout(this.zoom.showPhotoTimeout);this.zoom.$title.addClass("hidden");this.zoom.$btnPrev.addClass("hidden");this.zoom.$btnNext.addClass("hidden");this.zoom.slideshowStop();r.off("resize",this.windowOnResize);this.$this.show();b[this.intId].closeGallery()},autostart:function(){var A;var B;if(this.booIsAlbums){A=this.thumbnails.getElement().find(".album").eq(b[this.intId].autostartAtAlbum-1);if(A.length===0){A=this.thumbnails.getElement().find(".album").eq(0)}}else{A=this.thumbnails.getElement()}B=A.find("a").eq(b[this.intId].autostartAtImage-1);if(B.length===0){B=A.find("a").eq(0)}B.trigger("click")},generateAlbumsDropdown:function(){var A=this;this.$element.find(".change-album").remove();if(!this.booIsAlbums){return}this.zoom.$container.find(".nav-bottom").append('                <span class="icon- icon-list-ul change-album jgallery-btn jgallery-btn-small">                    <span class="menu jgallery-btn"></span>                    <span class="title"></span>                </span>            ');this.iconChangeAlbum=new p(A.zoom.$container.find(".change-album"),this);this.iconChangeAlbum.clearMenu();this.thumbnails.$albums.each(function(){var B=g(this).attr("data-jgallery-album-title");A.iconChangeAlbum.appendToMenu('<span class="item" data-jgallery-album-title="'+B+'">'+B+"</span>")});this.thumbnails.getElement().append(this.iconChangeAlbum.getElement().outerHtml());this.iconChangeAlbum=new p(this.iconChangeAlbum.getElement().add(this.thumbnails.getElement().children(":last-child")),this);this.iconChangeAlbum.bindEvents(this)},init:function(){var A=this;o.append('<style type="text/css" class="colours" data-jgallery-id="'+this.intId+'"></style>');b[this.intId].initGallery();this.$this.attr("data-jgallery-id",this.intId);this.generateHtml();new e(this);this.setVariables();this.thumbnails.init();this.thumbnails.getElement().append('<span class="icon- icon-remove jgallery-btn jgallery-close jgallery-btn-small"></span>');this.generateAlbumsDropdown();A.setUserOptions();if(b[A.intId].zoomSize==="fit"||b[A.intId].zoomSize==="original"){A.zoom.$resize.addClass("icon-zoom-in")}if(b[A.intId].zoomSize==="fill"){A.zoom.$resize.addClass("icon-zoom-out")}if(!l()){A.$element.addClass("text-shadow")}A.thumbnails.refreshNavigation();A.zoom.refreshNav();A.zoom.refreshSize();this.$this.on("click","a:has(img)",function(B){var C=g(this);B.preventDefault();A.zoom.showPhoto(C)});A.thumbnails.$element.on("click","a",function(B){var C=g(this);B.preventDefault();if(C.is(":not(.active)")){A.zoom.slideshowStop();A.zoom.showPhoto(C)}else{if(A.thumbnails.isFullScreen()){A.thumbnails.changeViewToBar();A.zoom.refreshSize()}}});A.zoom.$btnPrev.add(A.zoom.$container.find(".left")).on({click:function(){A.zoom.slideshowStop();A.zoom.showPrevPhoto()}});A.zoom.$btnNext.add(A.zoom.$container.find(".right")).on({click:function(){A.zoom.slideshowStop();A.zoom.showNextPhoto()}});A.zoom.$container.find(".jgallery-close").on({click:function(){A.hide()}});A.zoom.$random.on({click:function(){A.zoom.slideshowRandomToggle()}});A.zoom.$resize.on({click:function(){A.zoom.changeSize()}});A.zoom.$changeMode.on({click:function(){A.zoom.changeMode()}});A.zoom.$slideshow.on({click:function(){A.zoom.slideshowPlayStop()}});A.zoom.$container.find(".minimalize-thumbnails").on({click:function(){A.thumbnails.toggle();g(this).toggleClass("inactive");A.zoom.refreshSize()}});A.thumbnails.bindEvents()},isSlider:function(){return b[this.intId].mode==="slider"},windowOnResize:function(A){A.data.jGallery.refreshDimensions()},refreshDimensions:function(){this.zoom.refreshSize();if(this.iconChangeAlbum instanceof p){this.iconChangeAlbum.refreshMenuHeight()}this.thumbnails.refreshNavigation()},getCanvasRatioWidthToHeight:function(){var B;var A;if(this.thumbnails.isHorizontal()){B=this.$element.width();A=this.$element.height()-this.thumbnails.getElement().outerHeight(true)}else{if(this.thumbnails.isVertical()){B=this.$element.width()-this.thumbnails.getElement().outerWidth(true);A=this.$element.height()}else{B=this.$element.width();A=this.$element.height()}}return B/A},setUserOptions:function(){b[this.intId].canResize?this.zoom.$resize.show():this.zoom.$resize.hide();b[this.intId].canChangeMode?this.zoom.$changeMode.show():this.zoom.$changeMode.hide();b[this.intId].mode==="standard"?this.zoom.$changeMode.removeClass("icon-resize-small").addClass("icon-resize-full"):this.zoom.$changeMode.removeClass("icon-resize-full").addClass("icon-resize-small");b[this.intId].canClose?this.zoom.$container.find(".jgallery-close").show():this.zoom.$container.find(".jgallery-close").hide();if(!b[this.intId].thumbnails){this.thumbnails.getElement().addClass("inactive");b[this.intId].thumbnailsPosition=""}else{this.thumbnails.getElement().removeClass("inactive");if(b[this.intId].thumbnailsPosition===""){b[this.intId].thumbnailsPosition=n.thumbnailsPosition}}b[this.intId].slideshow?this.zoom.$slideshow.show():this.zoom.$slideshow.hide();b[this.intId].slideshow&&b[this.intId].slideshowCanRandom?this.zoom.$random.show():this.zoom.$random.hide();b[this.intId].slideshow&&b[this.intId].slideshowCanRandom&&b[this.intId].slideshowRandom?this.zoom.$random.addClass("active"):this.zoom.$random.removeClass("active");b[this.intId].thumbnailsFullScreen&&b[this.intId].thumbnails?this.zoom.$container.find(".full-screen").add(this.thumbnails.getElement().find(".jgallery-close")).show():this.zoom.$container.find(".full-screen").add(this.thumbnails.getElement().find(".jgallery-close")).hide();b[this.intId].thumbnailsFullScreen&&b[this.intId].thumbnails?this.zoom.$container.find(".change-album").show():this.zoom.$container.find(".change-album").hide();b[this.intId].canMinimalizeThumbnails&&b[this.intId].thumbnails?this.zoom.$container.find(".minimalize-thumbnails").show():this.zoom.$container.find(".minimalize-thumbnails").hide();this.setColours({strBg:b[this.intId].backgroundColor,strText:b[this.intId].textColor})},setColours:function(A){o.find('style[data-jgallery-id="'+this.intId+'"].colours').html(this.getCssForColours(A))},generateHtml:function(){var D=b[this.intId].mode;var C=D==="full-screen"?"auto":b[this.intId].width;var A=D==="full-screen"?"auto":b[this.intId].height;var B='                <div class="jgallery jgallery-'+D+'" style="width: '+C+"; height: "+A+'; display: none;" data-jgallery-id="'+this.intId+'">                    <div class="jgallery-thumbnails hidden">                        <div class="jgallery-container"><div class="jgallery-container-inner"></div></div>                        <span class="prev jgallery-btn hidden"><span class="icon-chevron-left ico"></span></span>                        <span class="next jgallery-btn hidden"><span class="icon-chevron-right ico"></span></span>                    </div>                    <div class="zoom-container">                        <div class="title before"></div>                        <div class="zoom before pt-perspective"></div>                        <div class="drag-nav hide"></div>                        <div class="left"></div>                        <div class="right"></div>                        <span class="icon-chevron-left prev jgallery-btn jgallery-btn-large"></span>                        <span class="icon-chevron-right next jgallery-btn jgallery-btn-large"></span>                        <span class="progress"></span>                        <div class="nav">                            <span class="icon- resize jgallery-btn jgallery-btn-small"></span>                            <span class="icon- change-mode jgallery-btn jgallery-btn-small"></span>                            <span class="icon-remove jgallery-close jgallery-btn jgallery-btn-small"></span>                        </div>                        <div class="nav-bottom">                            <span class="icon- icon-play slideshow jgallery-btn jgallery-btn-small"></span><span class="icon- icon-random random jgallery-btn jgallery-btn-small inactive"></span><span class="icon- icon-th full-screen jgallery-btn jgallery-btn-small"></span><span class="icon- icon-ellipsis-horizontal minimalize-thumbnails jgallery-btn jgallery-btn-small"></span>                        </div>                    </div>                </div>';if(D==="full-screen"){this.$jgallery=g(b[this.intId].appendTo).append(B).children(":last-child")}else{if(b[this.intId].autostart){this.$this.hide()}this.$jgallery=this.$this.after(B).next()}},getCssForColours:function(C){C=g.extend({strBg:"rgb( 0, 0, 0 )",strText:"rgb( 255, 255, 255 )"},C);var D=tinycolor(C.strBg).toRgb();var A=D.r+D.g+D.b>375?tinycolor.darken(C.strBg).toRgb():tinycolor.lighten(C.strBg).toRgb();var B=tinycolor(C.strText).toRgb();return'                .jgallery[data-jgallery-id="'+this.intId+'"] {                  background: rgb('+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-btn {                  color: rgb('+B.r+","+B.g+", "+B.b+");                  text-shadow: 0 0 1px rgb("+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-btn.active {                  color: rgb('+B.r+","+B.g+", "+B.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-btn:hover {                  text-shadow: none;                  text-shadow: 0 0 .15em rgba('+B.r+","+B.g+", "+B.b+",.75), 0 0 .45em rgba("+B.r+","+B.g+", "+B.b+',.5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu {                  background: rgb('+A.r+","+A.g+", "+A.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .full-screen .change-album .menu {                  background: rgb('+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu .item {                  border-color: rgb('+D.r+","+D.g+", "+D.b+");                  color: rgb("+B.r+","+B.g+", "+B.b+");                  background: rgb("+A.r+","+A.g+", "+A.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .full-screen .change-album .menu .item {                  border-color: rgb('+A.r+","+A.g+", "+A.b+");                  background: rgb("+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu .item.active,                .jgallery[data-jgallery-id="'+this.intId+'"] .change-album .menu .item:hover {                  background: rgb('+B.r+","+B.g+", "+B.b+");                  color: rgb("+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container:not([data-size="fill"]) .jgallery-container {                  background: rgb('+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .title {                  color: rgb('+B.r+","+B.g+", "+B.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom {                  background: rgb('+A.r+","+A.g+", "+A.b+");                  -webkit-box-shadow: 0 -3px rgba("+A.r+","+A.g+", "+A.b+", .5);                  box-shadow: 0 -3px rgba("+A.r+","+A.g+", "+A.b+', .5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .drag-nav {                  background: rgb('+A.r+","+A.g+", "+A.b+");                  -webkit-box-shadow: 0 0 0 3px rgba("+A.r+","+A.g+", "+A.b+", .5);                  box-shadow: 0 0 0 3px rgba("+A.r+","+A.g+", "+A.b+', .5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .zoom-container .drag-nav .crop {                  -webkit-box-shadow: 0 0 0 3px rgba('+B.r+","+B.g+", "+B.b+", .5);                  box-shadow: 0 0 0 3px rgba("+B.r+","+B.g+", "+B.b+', .5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails {                  background: rgb('+A.r+","+A.g+", "+A.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails .ico {                  color: rgb('+B.r+","+B.g+", "+B.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails .jgallery-container {                  -webkit-box-shadow: 0 0 0 3px rgba('+A.r+","+A.g+", "+A.b+", .5);                  box-shadow: 0 0 0 3px rgba("+A.r+","+A.g+", "+A.b+', .5);                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.full-screen .prev:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+A.r+","+A.g+", "+A.b+", 1 )),to(rgba( "+A.r+","+A.g+", "+A.b+", 0)));                  background-image: -webkit-linear-gradient(top,rgba( "+A.r+","+A.g+", "+A.b+", 1 ),0%,rgba( "+A.r+","+A.g+", "+A.b+", 0),100%);                  background-image: -moz-linear-gradient(top,rgba( "+A.r+","+A.g+", "+A.b+", 1 ) 0%,rgba( "+A.r+","+A.g+", "+A.b+", 0) 100%);                  background-image: linear-gradient(to bottom,rgba( "+A.r+","+A.g+", "+A.b+", 1 ) 0%,rgba( "+A.r+","+A.g+", "+A.b+', 0) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.full-screen .next:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+A.r+","+A.g+", "+A.b+", 0)),to(rgba( "+A.r+","+A.g+", "+A.b+", 1)));                  background-image: -webkit-linear-gradient(top,rgba( "+A.r+","+A.g+", "+A.b+", 0),0%,rgba( "+A.r+","+A.g+", "+A.b+", 1),100%);                  background-image: -moz-linear-gradient(top,rgba( "+A.r+","+A.g+", "+A.b+", 0) 0%,rgba( "+A.r+","+A.g+", "+A.b+", 1) 100%);                  background-image: linear-gradient(to bottom,rgba( "+A.r+","+A.g+", "+A.b+", 0) 0%,rgba( "+A.r+","+A.g+", "+A.b+', 1) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.images a:after {                  background: rgb('+A.r+","+A.g+", "+A.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.full-screen .prev,                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.full-screen .next {                  background: rgb('+A.r+","+A.g+", "+A.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails.square a {                  background: rgb('+B.r+","+B.g+", "+B.b+");                  color: rgb("+D.r+","+D.g+", "+D.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .overlayContainer .overlay {                  background: rgba('+D.r+","+D.g+", "+D.b+",.8);                  color: rgb("+B.r+","+B.g+", "+B.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .overlayContainer .imageLoaderPositionAbsolute:after {                  border-color: rgba('+B.r+","+B.g+", "+B.b+', .5 );                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-horizontal .prev {                  background: rgb('+A.r+","+A.g+", "+A.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-horizontal .prev:before {                  background-image: -webkit-gradient(linear,0% top,100% top,from(rgba( '+A.r+","+A.g+", "+A.b+", 1 )),to(rgba( "+A.r+","+A.g+", "+A.b+", 0 )));                  background-image: -webkit-linear-gradient(left,color-stop(rgba( "+A.r+","+A.g+", "+A.b+", 1 ) 0%),color-stop(rgba( "+A.r+","+A.g+", "+A.b+", 0 ) 100%));                  background-image: -moz-linear-gradient(left,rgba( "+A.r+","+A.g+", "+A.b+", 1 ) 0%,rgba( "+A.r+","+A.g+", "+A.b+", 0 ) 100%);                  background-image: linear-gradient(to right,rgba( "+A.r+","+A.g+", "+A.b+", 1 ) 0%,rgba( "+A.r+","+A.g+", "+A.b+', 0 ) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-horizontal .next {                  background: rgb('+A.r+","+A.g+", "+A.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-horizontal .next:before {                  background-image: -webkit-gradient(linear,0% top,100% top,from(rgba( '+A.r+","+A.g+", "+A.b+", 0 )),to(rgba( "+A.r+","+A.g+", "+A.b+", 1 )));                  background-image: -webkit-linear-gradient(left,color-stop(rgba( "+A.r+","+A.g+", "+A.b+", 0 ) 0%),color-stop(rgba( "+A.r+","+A.g+", "+A.b+", 1 ) 100%));                  background-image: -moz-linear-gradient(left,rgba( "+A.r+","+A.g+", "+A.b+", 0 ) 0%,rgba( "+A.r+","+A.g+", "+A.b+", 1 ) 100%);                  background-image: linear-gradient(to right,rgba( "+A.r+","+A.g+", "+A.b+", 0 ) 0%,rgba( "+A.r+","+A.g+", "+A.b+', 1 ) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-vertical .prev {                  background: rgb('+A.r+","+A.g+", "+A.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-vertical .prev:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+A.r+","+A.g+", "+A.b+", 1 )),to(rgba( "+A.r+","+A.g+", "+A.b+", 0 )));                  background-image: -webkit-linear-gradient(top,rgba( "+A.r+","+A.g+", "+A.b+", 1 ),0%,rgba( "+A.r+","+A.g+", "+A.b+", 0 ),100%);                  background-image: -moz-linear-gradient(top,rgba( "+A.r+","+A.g+", "+A.b+", 1 ) 0%,rgba( "+A.r+","+A.g+", "+A.b+", 0 ) 100%);                  background-image: linear-gradient(to bottom,rgba( "+A.r+","+A.g+", "+A.b+", 1 ) 0%,rgba( "+A.r+","+A.g+", "+A.b+', 0 ) 100%);                  background-repeat: repeat-x;                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-vertical .next {                  background: rgb('+A.r+","+A.g+", "+A.b+');                }                .jgallery[data-jgallery-id="'+this.intId+'"] .jgallery-thumbnails-vertical .next:before {                  background-image: -webkit-gradient(linear,left 0%,left 100%,from(rgba( '+A.r+","+A.g+", "+A.b+", 0 )),to(rgba( "+A.r+","+A.g+", "+A.b+", 1 )));                  background-image: -webkit-linear-gradient(top,rgba( "+A.r+","+A.g+", "+A.b+", 0 ),0%,rgba( "+A.r+","+A.g+", "+A.b+", 1 ),100%);                  background-image: -moz-linear-gradient(top,rgba( "+A.r+","+A.g+", "+A.b+", 0 ) 0%,rgba( "+A.r+","+A.g+", "+A.b+", 1 ) 100%);                  background-image: linear-gradient(to bottom,rgba( "+A.r+","+A.g+", "+A.b+", 0 ) 0%,rgba( "+A.r+","+A.g+", "+A.b+', 1 ) 100%);                  background-repeat: repeat-x;                }                .jgallery.jgallery-slider[data-jgallery-id="'+this.intId+'"] .zoom-container .nav-bottom .jgallery-btn {                  background: rgba('+D.r+","+D.g+", "+D.b+",.8);                  color: rgb("+B.r+","+B.g+", "+B.b+");                }            "}};g.fn.jGallery=function(A){return this.each(function(){var B=g(this);g(function(){var C=typeof A!=="undefined"&&typeof A.mode!=="undefined";var D=n;if(B.is("[data-jgallery-id]")&&C){delete A.mode;C=false}if(B.is("[data-jgallery-id]")){D=b[B.attr("data-jgallery-id")]}if(C&&A.mode==="standard"){D=g.extend({},D,k,A,f)}else{if(C&&A.mode==="slider"){D=g.extend({},D,z,A,a)}else{D=g.extend({},D,A)}}if(!B.is("[data-jgallery-id]")){b[++c]=D;x[c]=new q(B)}else{x[B.attr("data-jgallery-id")].update(D);b[B.attr("data-jgallery-id")]=D}})})};g.jGalleryOptions=function(){return b};g.jGalleryTransitions=function(){return v};var t=0;var d=function(A){if(A.is("[data-advanced-animation-id]")){return}this.cols=1;this.rows=1;this.direction="forward";this.$element=A;this.$element.filter(":not( [data-advanced-animation-id] )").attr("data-advanced-animation-id",++t);this.$element.find(".pt-item").wrap('<div class="pt-page" />');this.$element.wrapInner('<div class="pt-part" />');this.generateHtml();this._showParts(this.$element.find(".pt-part"),1)};d.prototype={next:function(){var A=this.$element.find(".pt-part").eq(this.direction==="backward"?-1:0).find(".pt-page-current:not(.pt-page-prev)").next();if(A.length){this.show(A)}else{this.show(this.$element.find(".pt-part").eq(this.direction==="backward"?-1:0).find(".pt-page").eq(0))}},show:function(A){var B=A.prevAll().length+1;if(A.is(".pt-page-current:not(.pt-page-prev)")){return}this._waveJumpToEnd();this._runWave(B);this.intPrevPtPageNumber=B},setQuantityParts:function(B,A){this.cols=B;this.rows=A;this.generateHtml()},setDuration:function(C){var B=this.$element.attr("data-advanced-animation-id");var A=o.find('style[data-advanced-animation-id="'+B+'"]');this.duration=C;if(u()){return}if(A.length===0){A=o.append('<style type="text/css" data-advanced-animation-id="'+B+'" />').children(":last-child")}A.html('                [data-advanced-animation-id="'+B+'"] .pt-page {                    -webkit-animation-duration: '+C+";                    -moz-animation-duration: "+C+";                    animation-duration: "+C+";                }            ")},setHideEffect:function(A){this.prevHideEffect=this.hideEffect;this.hideEffect=A;if(/moveTo|rotateRoom|rotateCarousel|rotateSlideOut/.test(A)){this.$element.find(".pt-part").addClass("hide-overflow")}else{this.$element.find(".pt-part").removeClass("hide-overflow")}},setShowEffect:function(A){this.prevShowEffect=this.showEffect;this.showEffect=A},setDirection:function(A){this.direction=A},_runWave:function(A){this.$element.find(".pt-part").addClass("in-queue");this._showNextPart(A)},_waveJumpToEnd:function(){clearTimeout(this.showPartsTimeout);if(typeof this.intPrevPtPageNumber!=="undefined"){this._showParts(this.$element.find(".pt-part.in-queue").removeClass("in-queue"),this.intPrevPtPageNumber)}},_showNextPart:function(B){var A=this;var C=this.$element.find(".pt-part.in-queue").eq(this.direction==="backward"?-1:0);if(C.length===0){return}this._showParts(C.removeClass("in-queue"),B);if(C.length===0){return}clearTimeout(this.showPartsTimeout);this.showPartsTimeout=setTimeout(function(){A._showNextPart(B)},parseFloat(this.duration)*1000*0.25/Math.max(1,this.$element.find(".pt-part").length-1))},_showParts:function(B,A){B.find(".pt-page-current.pt-page-prev").removeClass("pt-page-prev").removeClass("pt-page-current");B.find(".pt-page-current").addClass("pt-page-prev");B.find(".pt-page:nth-child("+A+")").addClass("pt-page-current");B.find(".pt-page").removeClass(this.hideEffect).removeClass(this.showEffect);if(typeof this.prevHideEffect!=="undefined"){B.find(".pt-page").removeClass(this.prevHideEffect)}if(typeof this.prevShowEffect!=="undefined"){B.find(".pt-page").removeClass(this.prevShowEffect)}B.find(".pt-page-prev").addClass(this.hideEffect);B.find(".pt-page-current:not(.pt-page-prev)").addClass(this.showEffect)},generateHtml:function(){var C;var B;var A;this.$element.html(this.$element.find(".pt-part").eq(0).html());A=this.$element.html();this.$element.children(".pt-part").remove();for(B=0;B<this.rows;B++){for(C=0;C<this.cols;C++){this.$element.append('<div class="pt-part pt-perspective" data-col-no="'+C+'" data-row-no="'+B+'" style="position: absolute;"></div>').children(":last-child").html(A).find(".pt-item")}}this.setPositionParts();this.$element.children(":not(.pt-part)").remove()},setPositionParts:function(){var B=this;var D=this.$element.outerWidth();var C=this.$element.outerHeight();var E=D/this.cols;var A=C/this.rows;this.$element.find(".pt-part").each(function(){var H=g(this);var G=H.attr("data-col-no");var F=H.attr("data-row-no");H.css({left:B.$element.outerWidth()*(100/B.cols*G)/100+"px",top:B.$element.outerHeight()*(100/B.rows*F)/100+"px",width:B.$element.outerWidth()*(100/B.cols)/100+1+"px",height:B.$element.outerHeight()*(100/B.rows)/100+1+"px"}).find(".pt-item").css({width:D,height:C,left:-E*G,top:-A*F})})}};g.fn.overlay=function(A){var B={show:false,hide:false,showLoader:false,hideLoader:false,fadeIn:true,fadeOut:true,fadeInLoader:true,fadeOutLoader:true,afterInit:function(){}};A=g.extend({},B,A);this.each(function(){var J=g(this),K,I,H=J.is(".overlayContainer:has(.overlay)"),G=function(){var O=Math.max(J.offset().top,g("body, html").scrollTop()),N=Math.min(J.offset().top+J.outerHeight(),g("body, html").scrollTop()+g(window).height()),M=O+(N-O)/2-J.offset().top;I.css({top:M+"px"})},E=function(){J.children(".overlay").css({width:J.outerWidth(),height:J.is("body")?g("html").outerHeight():J.outerHeight()})},F=function(){A.fadeIn?K.fadeIn(500):K.show()},D=function(){A.fadeOut?K.fadeOut(500):K.hide()},L=function(){A.fadeInLoader?I.not(":visible").fadeIn(500):I.not(":visible").show()},C=function(){A.fadeOutLoader?I.filter(":visible").fadeOut(500):I.filter(":visible").hide()};g(window).scroll(function(){G()});g(window).resize(function(){G();E()});if(J.is("table")){if(J.parent().is(".overlayContainer")){J=J.parent()}}if(!H){if(J.is("table")){J.wrap("<div></div>");J=J.parent()}J.addClass("overlayContainer");J.append('<div class="overlay" style="display: none;"><div class="imageLoaderPositionAbsolute" style="display: none;"></div></div>');A.afterInit()}K=J.children(".overlay");I=J.find(".imageLoaderPositionAbsolute");K.stop(false,true);I.stop(false,true);if(A.show){F()}else{if(A.hide){D()}}if(A.showLoader){L()}else{if(A.hideLoader){C()}}G();E()})};g.fn.jLoader=function(A){A=g.extend({interval:1000,skip:":not(*)",start:function(){g("body").overlay({fadeIn:false,fadeOut:false,show:true,showLoader:true});g("body").show()},success:function(){g("body").overlay({hide:true})},progress:function(){}},A);this.each(function(){var G=g(this);var E=g();var C=g();var F;var D=0;function B(){var I=true;var K=0;var H=0;var J;C.each(function(){K++;if(g(this)[0].complete){H++}else{I=false}if(K===D){J=parseInt(H*100/D);A.progress({percent:J});if(I){clearTimeout(F);E.remove();A.success()}else{F=setTimeout(B,A.interval)}}})}G.append('<div class="jLoaderTmp" style="position: absolute; width: 0; height: 0; line-height: 0; font-size: 0; visibility: hidden; overflow: hidden; z-index: -1;"></div>');E=G.children(".jLoaderTmp:last-child");g(G).add(G.find("*")).not(A.skip).each(function(){var H;if(g(this).css("background-image")!=="none"){H=g(this).css("background-image");if(/url/.exec(H)){H=H.replace('"',"").replace("'","").replace(" ","").replace("url(","").replace(")","");E.append('<img src="'+H+'">')}}});C=G.find("img:not( "+A.skip+")");if(G.is("img")){if(!G.is(A.skip)){C=C.add(G)}}D=parseInt(C.length);A.start();B()})};g.fn.outerHtml=function(){return(!this.length)?this:(this[0].outerHTML||(function(A){var C=document.createElement("div");C.appendChild(A.cloneNode(true));var B=C.innerHTML;C=null;return B})(this[0]))};function l(){var C=false;if(navigator.appName==="Microsoft Internet Explorer"){var A=navigator.userAgent;var B=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(B.exec(A)!==null){C=true}}return C}function y(){var C=false;if(navigator.appName==="Microsoft Internet Explorer"){var A=navigator.userAgent;var B=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(B.exec(A)!==null){C=parseFloat(RegExp.$1);C=C<8}}return C}function u(){var C=false;if(navigator.appName==="Microsoft Internet Explorer"){var A=navigator.userAgent;var B=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(B.exec(A)!==null){C=parseFloat(RegExp.$1);C=C<9}}return C}function j(A){return A.width()>A.height()}})(jQuery);